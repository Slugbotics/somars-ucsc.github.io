// For license information, see `https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/28627116551e/RC834797fe357d4618a6bebed70263cb4c-file.js`.
"use strict";(()=>{function e(e){const t=e.indexOf("#");return-1!==t?e.substring(0,t):e}async function t(){const e=navigator.userAgentData;if(!e)return{};try{const t=await e.getHighEntropyValues(["architecture","bitness","model","platformVersion","wow64"]);return{platform:e.platform,mobile:e.mobile,architecture:t.architecture,bitness:t.bitness,model:t.model,platformVersion:t.platformVersion,wow64:t.wow64}}catch{return{}}}function n(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():o()}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function i(e){const t=new Uint8Array(16);let n=0,o=0;for(;n<e.length&&o<16;){if("-"===e[n]){n++;continue}if(n+1>=e.length)break;const i=e.slice(n,n+2),a=Number.parseInt(i,16);Number.isNaN(a)||(t[o]=a,o++),n+=2}return t}function a(e){const t=i(e);let n=0n,o=0n;for(let e=0;e<t.length;e++)e<8?n=(n<<8n)+BigInt(t[e]):o=(o<<8n)+BigInt(t[e]);const a=9223372036854775807n;n>a&&(n-=2n**64n),o>a&&(o-=2n**64n),n<0n&&(n=-n),o<0n&&(o=-o);return n.toString().padStart(19,"0").slice(-19)+o.toString().padStart(19,"0").slice(-19)}function r(){const e="gsdk:ecid";try{if("undefined"!=typeof window&&window.localStorage){const t=window.localStorage.getItem(e);if(t&&38===t.length&&/^\d{38}$/.test(t))return t}}catch(e){}try{const t=a(n());try{"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){}return t}catch(e){return`${Date.now().toString()}${Math.random().toString().substring(2)}00000000000000000000`.substring(0,38)}}function s(){const e=navigator.userAgent;let t="Unknown",n="",o="";if(A.platform)if(t=A.platform,n=A.platformVersion||"","Windows"===A.platform){if(o="Microsoft",A.platformVersion){n=Number.parseInt(A.platformVersion.split(".")[0])>=13?"11":"10"}}else"macOS"===A.platform?(o="Apple",t="MacOS",A.platformVersion&&(n=A.platformVersion)):"Linux"===A.platform?o="Linux":"Android"===A.platform?o="Google":"iOS"===A.platform&&(o="Apple");else if(/iPhone|iPad|iPod/.test(e)){t="iOS",o="Apple";const i=e.match(/OS (\d+_\d+_?\d*)/);i&&(n=i[1].replace(/_/g,"."))}else if(e.includes("Android")){t="Android",o="Google";const i=e.match(/Android (\d+\.?\d*\.?\d*)/);i&&(n=i[1])}else if(e.includes("Mac OS X")||e.includes("Macintosh")){t="MacOS",o="Apple";const i=e.match(/Mac OS X ([0-9_]+)/);if(i){const e=i[1].replace(/_/g,".");e.startsWith("10.15")||(n=e)}}else e.includes("Windows")?(t="Windows",o="Microsoft",e.includes("Windows NT 10.0")?n=e.includes("Windows 11")?"11":"10":e.includes("Windows NT 6.3")?n="8.1":e.includes("Windows NT 6.1")&&(n="7")):e.includes("Linux")&&(t="Linux",o="Linux");return{operatingSystem:t,operatingSystemVersion:n||void 0,operatingSystemVendor:o}}function c(e){for(const[t,n]of Object.entries(C))if(e===t||e.endsWith(`.${t}`))return n}function d(){const e=window._satellite,t=e?.getVar?.("cmp.state"),n=e?.getVar?.("consent"),o=n?.c;return"post"!==t||e?.cookie?.get?.("OptanonConsent")?{configuration:{performance:!!o?.("C0002"),functional:!!o?.("C0003"),advertising:!!o?.("C0004")}}:{configuration:{performance:!0,functional:!0,advertising:!0}}}function l(){return W?Promise.resolve(W):Promise.resolve().then((()=>new Promise((e=>{if(window.adobeIMS?.isSignedInUser&&window.adobeIMS?.getProfile)W=window.adobeIMS,e(W);else{const t=setTimeout((()=>{e(void 0)}),T);window.addEventListener("onImsLibInstance",(n=>{clearTimeout(t);W=n.detail.instance,e(W)}),{once:!0})}}))))}function u(e,t=1e4){return new Promise(((n,o)=>{function i(){const r=window[e];void 0===r?Date.now()-a>=t?o(new Error(`Timeout waiting for window.${e}`)):setTimeout(i,200):n(r)}const a=Date.now();E(i,"check"),i()}))}function m(){u("alloy_getIdentity",T).then((e=>e)).then((e=>{e?.identity?.ECID&&(P._adobe_corpnew.event.identifiers.ECID=e.identity.ECID,P.identityMap.ECID[0].id=e.identity.ECID)})).catch((()=>{}))}function g(){return l().then((e=>{if(e&&(P._adobe_corpnew.user.authenticationStatus=!0===e.isSignedInUser()?"Signed In":"Signed Out",e.isSignedInUser()))return e.getProfile()})).then((e=>{e?.userId&&(P._adobe_corpnew.user.userId=e.userId,P._adobe_corpnew.event.identifiers.userGUID=e.userId,P.identityMap.adobeGUID=[{id:e.userId,primary:!0,authenticatedState:"authenticated"}],P.identityMap.ECID[0].primary=!1),e?.account_type&&(P._adobe_corpnew.user.userAccountType=e.account_type)})).catch((()=>{}))}function p(){u("alloy_all",T).then((t=>{if(t){const n=t.data;n.URL&&(P.web.webPageDetails.URL=e(n.URL)),n.name&&(P.web.webPageDetails.name=n.name),n.server&&(P.web.webPageDetails.server=n.server),n.siteSection&&(P.web.webPageDetails.siteSection=n.siteSection),n.viewName&&(P.web.webPageDetails.viewName=n.viewName)}})).catch((()=>{}))}function b(){return{implementationDetails:{environment:"browser",name:"https://ns.adobe.com/gsdk/browser",version:"1.4.0"},environment:{browserDetails:{userAgent:navigator.userAgent,cookiesEnabled:navigator.cookieEnabled,thirdPartyCookiesEnabled:void 0,userAgentClientHints:{},...s()}},web:{webPageDetails:{URL:e(window.location.href??window.location.toString()),name:document.title,server:window.location.hostname,siteSection:void 0,viewName:void 0}},application:{_dc:{language:navigator.language??navigator.languages?.[0]},name:""},_adobe_corpnew:{user:{userAccountType:void 0,authenticationStatus:void 0,userId:void 0},event:{identifiers:{}},otherConsents:{...d()}},eventType:"mau.exposed",timestamp:(new Date).toISOString(),identityMap:{ECID:[{id:"",primary:!0}]}}}function w(){P=b(),W=void 0,g(),document.hasStorageAccess?.()?.then?.((e=>{P.environment.browserDetails.thirdPartyCookiesEnabled=e}))?.catch?.((()=>{})),t()?.then?.((e=>{Object.assign(P.environment.browserDetails.userAgentClientHints,e)}))?.catch?.((()=>{})),m(),p()}function f(){if(P||(P=b()),!P._adobe_corpnew.event.identifiers.ECID||""===P._adobe_corpnew.event.identifiers.ECID){const e=r();P._adobe_corpnew.event.identifiers.ECID=e,P.identityMap.ECID[0].id=e}return P.application.name=c(window.location.hostname)??window.location.hostname,Object.assign(P._adobe_corpnew.otherConsents,d()),P.timestamp=(new Date).toISOString(),P}function v(){const e=s();return"MacOS"===e.operatingSystem||"iOS"===e.operatingSystem?{project:"gesdk-ps-mac-service",apiKey:"gesdk-ps-mac-service"}:{project:"gesdk-ps-win-service",apiKey:"gesdk-ps-win-service"}}function y(e){const t=e._adobe_corpnew.otherConsents.configuration;return!0===t.performance&&!0===t.functional}function h(t,n,o){const{project:i}=v(),a=t,r=a.timestamp,s=o,c=a._adobe_corpnew.event.identifiers.ECID||a.identityMap.ECID[0]?.id||"",d=a._adobe_corpnew.user.userId,l=a.environment.browserDetails.userAgent,u=a.application._dc.language?.replace("-","_")||"en_US",m=e(a.web.webPageDetails.URL),g=a.environment.browserDetails.operatingSystem||"unknown",p=a.environment.browserDetails.operatingSystemVersion||"unknown",b="desktop",w={"event.guid":s,"event.type":n.success?"success":"error","event.url":m,"event.referrer":document.referrer,"event.category":"WEB","event.workflow":"Debug","event.mcid_guid":c,"event.visitor_guid":c,"event.user_agent":l,"event.language":u,"event.subcategory":"mau","event.subtype":"api","source.platform":g,"source.os_version":p,"source.device":b,"env.com.name":"GESDK","event.dts_end":r};d&&(w["event.user_guid"]=d);const f=window?.adobeid?.client_id;return f&&(w["source.client_id"]=f),!n.success&&n.error&&(w["event.error_code"]=n.error.code,w["event.error_type"]=n.error.type,w["event.error_description"]=n.error.description),{events:[{time:r,project:i,environment:"prod",ingesttype:"dunamis",data:w}]}}async function S(e,t,n){if(y(e))try{const o=h(e,n,t),{apiKey:i}=v();(await fetch("https://cc-api-data.adobe.io/ingest",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i,"X-Request-Id":t},body:JSON.stringify(o),keepalive:!0})).ok}catch(e){}}async function _(e,t){const n=JSON.stringify({events:[{xdm:e}],meta:{state:{cookiesEnabled:!1}}});let o="c2ddbb32-4279-46db-8240-390fba13feeb";window._satellite?.environment?.stage&&"production"!==window._satellite?.environment?.stage&&(o="8be96822-e922-4685-a86a-dd0da15f279a");const i=await fetch(`https://www.adobe.com/experienceedge/v2/collect?datastreamId=${o}&requestId=${encodeURIComponent(t)}`,{method:"POST",credentials:"omit",keepalive:!0,headers:{"Content-Type":"text/plain"},body:n});return i.ok?{success:!0}:{success:!1,error:{code:i.status.toString(),type:"HttpError",description:`sendEvent network call failed: ${i.status} ${i.statusText}`}}}async function I(){const e=new Date,t=e.getTime();try{const n=localStorage.getItem(M);if(n){const e=t-new Date(n).getTime();if(e<60*k*60*1e3)return}localStorage.setItem(M,e.toISOString())}catch(e){}const o=f(),i=n(),a=await _(o,i);a.success,await S(o,i,a)}function x(){async function e(){clearTimeout(n),window.removeEventListener("scroll",t),await I()}function t(){(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100>O&&e()}const n=setTimeout((()=>{document.visibilityState&&"hidden"===document.visibilityState||e()}),U);E(e,"triggerMau"),E(t,"scrollHandler"),window.addEventListener("scroll",t)}var D=Object.defineProperty,E=(e,t)=>D(e,"name",{value:t,configurable:!0});E(e,"removeHashFromUrl"),E(t,"getUserAgentClientHints"),E(n,"generateUUID"),E(o,"generateFallbackUUID"),E(i,"parseUuid"),E(a,"generateEcidFromUuid"),E(r,"getOrCreateEcid");var A={};t().then((e=>{A=e})).catch((()=>{})),E(s,"getOperatingSystemInfo");var C={"firefly.adobe.com":"Firefly Web","photoshop.adobe.com":"Ps Web","lightroom.adobe.com":"Lr Web","express.adobe.com":"Adobe Express","new.express.adobe.com":"Adobe Express","acrobat.adobe.com":"Acrobat Web","illustrator.adobe.com":"Illustrator Web","behance.net":"Behance Web","www.behance.net":"Behance Web","portfolio.adobe.com":"Portfolio Web","stock.adobe.com":"Stock Web","fonts.adobe.com":"Fonts","podcast.adobe.com":"Podcast Web (studio)","coldfusion.adobe.com":"Coldfusion","contentauthenticity.adobe.com":"Content Authenticity Website","projectneo.adobe.com":"Project Neo (Beta) Web","xd.adobe.com":"Adobe XD","adobesign.adobe.com":"Adobe Sign","echosign.adobe.com":"Adobe Sign","firefly-stage.corp.adobe.com":"Firefly Web (Stage)","stage.photoshop.adobe.com":"Ps Web (Stage)","stage.adobelr.com":"Lr Web (Stage)","stage.projectx.corp.adobe.com":"Adobe Express (Stage)","stage.acrobat.adobe.com":"Acrobat Web (Stage)","stage-main.illustrator.adobe.com":"Illustrator Web (Stage)","net.s2stagehance.com":"Behance Web (Stage)","portfolio.ccpsx.com":"Portfolio Web (Stage)","primary.stock.stage.adobe.com":"Stock Web (Stage)","podcast.stage.adobe.com":"Podcast Web (studio) (Stage)","fonts-relstage.adobe.com":"Fonts (Stage)"};E(c,"getAdobeProductName"),E(d,"getAEPConsent");var P,W=void 0,T="number"==typeof globalThis.__TEST_ASYNC_TIMEOUT__?globalThis.__TEST_ASYNC_TIMEOUT__:5e3;E(l,"getIms"),E(u,"waitForWindowProperty"),E(m,"initializeAlloyIdentity"),E(g,"initializeAdobeIMS"),E(p,"initializeAlloyData"),E(b,"createPayload");E(w,"init"),E(f,"getPayload"),E(v,"getDunamisConfig"),E(y,"hasAnalyticsConsent"),E(h,"generateDunamisPayload"),E(S,"sendDunamis"),E(_,"sendEvent"),w();var k=23.5,O=50,U=5e3,M="adobe.dgp.mau.lastDispatchTime";E(I,"dispatchMau"),E(x,"initialize"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",x):x()})();